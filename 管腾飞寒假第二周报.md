# web

## Web考点

| 类别 | 关键技术点 | 常见题型 |
|------|-----------|---------|
| 信息泄露 | 源码泄露、目录遍历、备份文件 | .git/.svn泄露、robots.txt、敏感文件 |
| 注入攻击 | SQL注入、命令注入、XPath注入 | 登录绕过、数据窃取、RCE |
| 文件操作 | 文件上传、文件包含、目录穿越 | 上传webshell、LFI/RFI |
| 代码审计 | PHP/Java/Python代码漏洞 | 反序列化、逻辑漏洞、变量覆盖 |
| 服务端安全 | SSRF、XXE、SSTI | 服务器探测、内网攻击、模板注入 |
| 客户端安全 | XSS、CSRF、CORS、JSONP | 盗取Cookie、点击劫持、前端漏洞 |
| 密码学相关 | JWT、弱加密、哈希扩展 | Token伪造、加密算法漏洞 |
| 其他漏洞 | 条件竞争、HTTP走私、请求伪造 | 并发漏洞、协议解析问题 |

### 1. SQL注入

**基本原理**：用户输入被拼接到SQL语句中执行

**分类**：
- 联合查询注入：`union select`
- 报错注入：`extractvalue()`、`updatexml()`
- 布尔盲注：通过页面返回判断
- 时间盲注：`sleep()`、`benchmark()`
- 堆叠注入：多条语句执行

### 2. 文件上传漏洞

**绕过技巧**：
- 前端JS验证：抓包修改
- 后缀名过滤：`.php` → `.php5`、`.phtml`
- 内容类型检测：`Content-Type: image/jpeg`
- 文件头检测：添加图片魔数
- WAF绕过：双写后缀、大小写、空格

### 3. 文件包含

**类型**：
- LFI（本地文件包含）：包含服务器本地文件
- RFI（远程文件包含）：包含远程服务器文件
- 伪协议利用：
  - `php://filter/read=convert.base64-encode/resource=index.php`
  - `php://input` + POST执行代码
  - `data://text/plain,<?php phpinfo();?>`

### 4. 反序列化

**PHP常见触发点**：
- `__wakeup()`：反序列化时自动调用
- `__destruct()`：对象销毁时调用
- `__toString()`：对象被当作字符串时调用

### 5. SSRF

**利用方式**：
- 内网服务探测：`http://127.0.0.1:3306`
- 协议利用：`file:///etc/passwd`、`dict://`、`gopher://`
- 绕过限制：域名重定向、IP编码、DNS重绑定


##  常用工具集

| 工具 | 用途 | 命令示例 |
|------|------|---------|
| Burp Suite | 抓包/重放/爆破 | 代理拦截、Intruder模块 |
| SQLmap | SQL注入自动化 | `sqlmap -u "url" --dbs` |
| Dirb/Dirsearch | 目录扫描 | `dirsearch -u url -e php` |
| GitHack | .git泄露利用 | `python GitHack.py url/.git/` |
| Seclists | 字典集合 | `/usr/share/seclists/` |
| Wappalyzer | 指纹识别 | 浏览器插件 |
| HackBar | 快速构造请求 | 浏览器插件 |

